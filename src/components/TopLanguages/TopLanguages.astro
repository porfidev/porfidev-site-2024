---
import './TopLanguages.styles.scss';
import { TechLogo } from './TechLogo';

import type { ProgrammingLanguage } from '../../types/ProgrammingLanguage';
const response = await fetch('https://wakatime.com/share/@porfidev/acb62aea-138f-4a8a-b430-6e7255c4af8e.json');
const data = await response.json();
const topLanguages: ProgrammingLanguage[] = data.data.slice(0, 5);
import HeaderTitle from '../HeaderTitle/HeaderTitle.astro';
---

<HeaderTitle text="Top Used Technologies" />

<p>Technologies I have used the most in my projects over the course of a year.</p>

<div class="top-languages">
  {
    topLanguages.map((language) => {
      return (
        <div class="tech">
          <div class="image-wrapper">
            <TechLogo logo={language.name} />
          </div>
          <div class="description">
            <span class="name">{language.name}</span>
            <span class="percentage">{language.percent}%</span>
            <span class="time">{language.hours}+ hours</span>
          </div>
        </div>
      );
    })
  }
</div>
